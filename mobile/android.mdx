---
title: "Android SDK"
description: "Run Llama 3.2 3B locally on your Android device"
---

# Exla AI SDK for Android

The Exla Android SDK allows you to run state-of-the-art AI text generation directly on your Android device, without requiring an internet connection for inference.

## Features

- ðŸš€ **Fully On-Device**: All processing happens on your device, ensuring privacy and offline usage
- ðŸ“± **Optimized for Mobile**: Uses quantized models specifically designed for mobile devices
- âš¡ **Fast Responses**: Efficient implementation for quick text generation
- ðŸ§  **Llama 3.2 3B**: Powered by Meta's latest Llama 3.2 3B Instruct model

## Installation

### Step 1: Add JitPack Repository

Add the JitPack repository to your project's `settings.gradle.kts`:

```kotlin
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
        maven {
            url = uri("https://jitpack.io")
            credentials {
                username = "jp_xxxxxxxxxxxxxxxxxxxxxxxx" // Replace with your JitPack API token
            }
        }
    }
}
```

### Step 2: Add SDK Dependency

Add the Exla AI SDK dependency to your app's `build.gradle.kts`:

```kotlin
dependencies {
    implementation("com.github.exla-ai:exla-android-sdk:v1.0.0-alpha01")
}
```

### Step 3: Add Required Permissions

Ensure your `AndroidManifest.xml` includes the necessary permissions:

```xml
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
```

## Using the SDK

### 1. Initialize the SDK

First, get an instance of the SDK:

```kotlin
// Get the SDK instance
val sdk = ExlaAiSdk.getInstance(applicationContext)
```

The SDK follows the singleton pattern, so you only need to get the instance once.

### 2. Download the Model

Before generating text, you must download the model. This only needs to be done once (the model will be cached for future use):

```kotlin
sdk.initialize(
    progressCallback = { progress -> 
        // Update UI with download progress (0-100)
        runOnUiThread {
            progressBar.progress = progress
            statusTextView.text = "Downloading model: $progress%"
        }
    },
    completionCallback = { success ->
        runOnUiThread {
            if (success) {
                // Model loaded successfully
                statusTextView.text = "Model ready!"
            } else {
                // Model download or initialization failed
                statusTextView.text = "Model initialization failed"
            }
        }
    }
)
```

The download process requires an internet connection. Make sure to verify network connectivity before starting the download.

### 3. Check if the Model is Ready

After initialization, you can check if the model is ready to use:

```kotlin
if (sdk.isReady()) {
    // Model is loaded and ready for inference
} else {
    // Model is not yet loaded
}
```

### 4. Generate Text

Once the model is ready, you can generate text responses:

```kotlin
sdk.askAI(prompt) { response ->
    runOnUiThread {
        // Update UI with the generated text
        outputTextView.text = response
    }
}
```

Note that the response callback may run on a background thread, so you should use `runOnUiThread` to update UI elements.

## Model Details

The SDK automatically downloads and uses Llama 3.2 3B Instruct (Q2_K.gguf) - a 2-bit quantized version of the Llama 3.2 3B model optimized for mobile devices.

- **Model Size**: ~1.3GB download
- **Capabilities**: Text completion, question answering, simple reasoning
- **Languages**: Primarily English, with limited support for other languages
- **Context Window**: 2048 tokens

## Complete Example

Here's a complete example showing how to implement a simple chat interface:

```kotlin
class MainActivity : AppCompatActivity() {
    private lateinit var statusTextView: TextView
    private lateinit var outputTextView: TextView
    private lateinit var promptEditText: EditText
    private lateinit var loadModelButton: Button
    private lateinit var generateButton: Button
    private lateinit var progressBar: ProgressBar
    
    private lateinit var sdk: ExlaAiSdk
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        // Initialize views
        statusTextView = findViewById(R.id.statusTextView)
        outputTextView = findViewById(R.id.outputTextView)
        promptEditText = findViewById(R.id.promptEditText)
        loadModelButton = findViewById(R.id.loadModelButton)
        generateButton = findViewById(R.id.generateButton)
        progressBar = findViewById(R.id.progressBar)
        
        // Initially hide the progress bar
        progressBar.visibility = View.GONE
        
        try {
            // Initialize SDK
            sdk = ExlaAiSdk.getInstance(applicationContext)
            statusTextView.text = "SDK Version: ${sdk.version}"
            outputTextView.text = "Press 'Download Model' to get started."
        } catch (e: Exception) {
            statusTextView.text = "SDK Initialization Error"
            outputTextView.text = "Error: ${e.message}"
            loadModelButton.isEnabled = false
            generateButton.isEnabled = false
        }
        
        // Setup button click listeners
        loadModelButton.setOnClickListener {
            downloadModel()
        }
        
        generateButton.setOnClickListener {
            generateText()
        }
    }
    
    private fun downloadModel() {
        // Disable the button and show progress
        loadModelButton.isEnabled = false
        progressBar.visibility = View.VISIBLE
        statusTextView.text = "Starting model download..."
        
        sdk.initialize(
            progressCallback = { progress ->
                runOnUiThread {
                    progressBar.progress = progress
                    statusTextView.text = "Downloading model: $progress%"
                }
            },
            completionCallback = { success ->
                runOnUiThread {
                    progressBar.visibility = View.GONE
                    loadModelButton.isEnabled = true
                    
                    if (success) {
                        statusTextView.text = "Model loaded successfully! SDK Ready."
                        outputTextView.text = "Model is ready for text generation."
                    } else {
                        statusTextView.text = "Failed to download model."
                        outputTextView.text = "Model download failed. Please check your network connection and try again."
                    }
                }
            }
        )
    }
    
    private fun generateText() {
        val prompt = promptEditText.text.toString().trim()
        if (prompt.isEmpty()) {
            outputTextView.text = "Please enter a prompt first."
            return
        }
        
        if (!sdk.isReady()) {
            outputTextView.text = "Model is not ready. Please download the model first."
            return
        }
        
        // Disable button while generating
        generateButton.isEnabled = false
        outputTextView.text = "Generating response..."
        
        // Generate text using the SDK
        sdk.askAI(prompt) { response ->
            runOnUiThread {
                outputTextView.text = response
                generateButton.isEnabled = true
            }
        }
    }
}
```

## Requirements

- Android 7.0 (API level 24) or higher
- Approximately 2.5GB of free storage space
- At least 4GB of RAM recommended

## Privacy

All text generation happens entirely on your device. The SDK only connects to the internet once to download the model file. No data is sent to remote servers during text generation.
